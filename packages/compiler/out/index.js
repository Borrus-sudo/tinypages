var V=Object.create;var u=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var D=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty;var K=(t,r)=>{for(var e in r)u(t,e,{get:r[e],enumerable:!0})},R=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of B(r))!J.call(t,s)&&s!==e&&u(t,s,{get:()=>r[s],enumerable:!(n=z(r,s))||n.enumerable});return t};var g=(t,r,e)=>(e=t!=null?V(D(t)):{},R(r||!t||!t.__esModule?u(e,"default",{value:t,enumerable:!0}):e,t)),$=t=>R(u({},"__esModule",{value:!0}),t);var Y={};K(Y,{default:()=>X});module.exports=$(Y);var F=()=>typeof document>"u"?new URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("main.js",document.baseURI).href,f=F();var h=require("marked");async function y(t,r){return await Promise.all([...t].map(e=>e.getReady?e.getReady():null)),{methodReturn(e,n){return t.forEach(s=>{n=s.transform(e,n,r)||n}),n},methodArguments(e,n){return t.forEach(s=>{s.tapArgs&&(n=s.tapArgs(e,[...n])||n)}),n}}}var N=g(require("shiki"));var S=g(require("katex")),L=require("module"),Q=(0,L.createRequire)(f);function M(t,r){return r.type==="katex-mhcem"&&Q("katex/contrib/mhchem"),r.config.katex.displayMode=!r.inlineRender,S.default.renderToString(t,r.config.katex||{throwOnError:!1})}function b(){let t,r,e,n,s=[];return{name:"core:code",async getReady(){t=await N.getHighlighter(n.shiki||{theme:"nord"})},defineConfig(i){n=i},transform(i,o){if(e){if(e.startsWith("mermaid"))n.renderMermaid&&(s.push({code:r,lang:e}),o="<GRAPH></GRAPH>");else if(e.startsWith("katex"))n.renderKatex&&(o=M(r,{type:e,inlineRender:i==="codespan",config:n}));else{let c=[],a={lang:e};e.includes(" ")&&([e,...c]=e.split(" "),a={lang:e,...JSON.parse(c.join(" "))});try{o=t.codeToHtml(r,a)}catch{}}return r=e="",o}},tapArgs(i,o){i==="code"?(r=o[0],e=o[1]):i==="codespan"&&([e,...r]=o[0].split(" "),r=r.join(" "))},async postTransform(i){if(s.length>0){let o=(await import("headless-mermaid")).default,c=[];for(let m of s){let k=[],w={theme:"forest",sequence:{showSequenceNumbers:!0}};m.lang.includes(" ")&&([,...k]=m.lang.split(" "),w={...JSON.parse(k.join(" "))}),c.push(o.execute(m.code,w))}let a=await Promise.all(c),l=0;return i.replace(/\<GRAPH\>\<\/GRAPH\>/g,m=>a[l++])}return i}}}var H=require("node-html-parser");function C(){let t=!1,r=[],e;return{name:"core:css",defineConfig(n){e=n},transform(n,s){if(n==="text")return t=!0,s.replace(/\[(.*?)\]/g,(i,o)=>(r.push(...o.replace(/ +/g," ").split(" ")),""));if(t&&(t=!1,r.length>0)){let i=(0,H.parse)(s);return r.forEach(o=>i.childNodes?.[0]?.classList.add(o)),r=[],i.toString()}return s},async postTransform(n){if(!e.renderUnoCSS)return n;let{createGenerator:s}=await import("@unocss/core"),o=await s(e.unocss||{}).generate(n,{minify:!!e.minify});return e.metaConstruct.styles=o.css,n}}}var E=require("node-html-parser");var v=g(require("node-icons")),U=require("param-case");var p=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function A(t){return Object.keys(t).forEach(r=>{t[r]=`"${t[r]}"`}),t}function j(t,r){let e=[];return r.flat().forEach(n=>{n.enforce?n.enforce==="pre"?t.unshift(n):e.push(n):t.push(n)}),[...t,...e]}async function O(t,r,e){for(let n of r)n.postTransform&&(t=await n.postTransform(t,e));return t}function I(t,r){let e=Object.getPrototypeOf(t),n=Reflect.ownKeys(e),s={};return n.forEach(i=>{let{value:o}=Reflect.getOwnPropertyDescriptor(e,i);s[i]=function(...c){let a=r.methodArguments(i,c),l=o.apply(t,a);return r.methodReturn(i,l)}}),s.options=t.options,s}var P;function d(t,r){P||(P=(0,v.default)(r.config.icons));let e=r.config?.icons?.separator??":",n=!1,s=t,i={},o={};return r.attrs?(s=(0,U.paramCase)(t).replace(/\-/g,e),n=typeof r.attrs.base64<"u",n?(delete r.attrs.base64,i=r.config.defaultBase64IconsStyles||{}):i=r.config.defaultIconsStyles||{},o={...r.attrs,...i}):(t.startsWith("base64"+e)?(s=t.split(e).slice(1).join(e),n=!0,i=r.config.defaultBase64IconsStyles||{}):i=r.config.defaultIconsStyles||{},o=i),P.getIconsSync(s,n?o:A({...o}),n)}var W=require("marked");function T(){let t;return{name:"core:html",defineConfig(r){t=r},transform(r,e,n){if(r==="html"){let s=(0,E.parse)(e);if(console.log("PLUGIN CALLED"),s?.childNodes[0].rawTagName.toLowerCase()==="head"){for(let o of s.childNodes[0].childNodes)switch(o?.rawTagName?.toLowerCase()){case"base":n.head.base={...o.attrs};break;case"link":n.head.link.push({...o.attrs});break;case"meta":n.head.meta.push({...o.attrs});break;case"noscript":n.head.noscript.push({innerHTML:o.innerHTML});break;case"script":n.head.script.push(o.attrs.src?{...o.attrs}:{type:o.attrs.type,innerHTML:o.innerHTML});break;case"style":n.head.style.push({type:o.attrs.type,cssText:o.innerHTML});case"title":n.head.title=o.innerText,n.head.titleAttributes=o.attrs;break}return""}let i=(o,c)=>{for(let a of o.childNodes){if(a&&a.nodeType===3&&a._rawText.trim()){a._rawText=W.marked.parse(a._rawText.trim(),t.marked);continue}else if(c)continue;if(a&&a.rawTagName){let l=a.rawTagName.toLowerCase();if(l==="svg"||a.classList.contains("katex-display")||a.classList.contains("katex"))continue;if(!p.includes(l)){console.log(l);let m=d(l,{attrs:a.attrs,config:t});console.log(m),m?a.replaceWith(m):i(a,!0);continue}i(a,!1)}}};return i(s,!1),s.toString()}}}}var G=g(require("node-emoji"));function x(){let t,r;return{name:"core:text",defineConfig(e){r=e,t=r.plugins.find(n=>n.name==="core:code")},transform(e,n){if(e==="text"||e==="html")return n.replace(/(::(.*?)::)|(`[\s\S]*`)|(:(.*?):)/g,s=>{if((s.includes("<")||s.includes(">"))&&!s.startsWith("`"))return s;if(s.startsWith("::"))s=d(s.slice(2,-2),{config:r})||s;else if(s.startsWith("```")){let[i,...o]=s.slice(3,-3).split(`
`);t.tapArgs("code",[o.join(`
`),i]),s=t.transform("code",s)||s}else s.startsWith("`")?(t.tapArgs("codespan",[s.slice(1,-1)]),s=t.transform("codespan",s)||s):s=G.default.get(s);return s})}}}var _=require("node-html-parser");function q(t){let r=(0,_.parse)(t),e=[],n=s=>{for(let i of s.childNodes)if(i&&i.rawTagName){let o=i.rawTagName.toLowerCase();if(o==="svg"||i.classList.contains("katex-display")||i.classList.contains("katex"))continue;if(!p.includes(o)){let c=i.toString().trim();e.push({componentName:i.rawTagName,componentLiteral:c,props:i.attrs||{},children:i.innerHTML}),i.replaceWith(c);continue}n(i)}};return n(r),[r.toString(),e]}async function X(t,r){let e=Object.assign({},r,{metaConstruct:{styles:"",components:[],headTags:r.headTags||[],head:{base:{},htmlAttributes:{},link:[],meta:[],noscript:[],script:[],style:[],title:"",titleAttributes:{}},grayMatter:""}});e.plugins=j([C(),b(),x(),T()],e.plugins||[]),e.plugins.forEach(a=>a.defineConfig?a.defineConfig(e):0);let n=new h.marked.Renderer,s=await y(e.plugins,e.metaConstruct),i=I(n,s),o=t.match(/---[\s\S]*---/)?.[0]??"";o&&(e.metaConstruct.grayMatter=o.slice(4,-3)),t=o?t.split(o)[1]:t,h.marked.setOptions({renderer:i,...e.marked||{}});let c=h.marked.parse(t);return c=await O(c,e.plugins,e.metaConstruct),[c,e.metaConstruct.components]=q(c),[c,e.metaConstruct]}0&&(module.exports={});
